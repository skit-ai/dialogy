<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="dialogy.postprocess package" href="dialogy.postprocess.html" /><link rel="prev" title="dialogy.parser.text.entity package" href="dialogy.parser.text.entity.html" />

    <meta name="generator" content="sphinx-3.5.3, furo 2021.04.11.beta34"/>
        <title>dialogy.plugin package - dialogy 0.4.5 documentation</title>
      <link rel="stylesheet" href="../_static/styles/furo.css?digest=59ab60ac09ea94ccfe6deddff6d715cce948a6fc">
    <link rel="stylesheet" href="../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" href="../_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">dialogy 0.4.5 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">dialogy 0.4.5 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <p><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="modules.html">dialogy</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="dialogy.html">dialogy package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="dialogy.cli.html">dialogy.cli package</a></li>
<li class="toctree-l3"><a class="reference internal" href="dialogy.constants.html">dialogy.constants package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="dialogy.parser.html">dialogy.parser package</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="dialogy.parser.text.html">dialogy.parser.text package</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="dialogy.parser.text.entity.html">dialogy.parser.text.entity package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">dialogy.plugin package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="dialogy.postprocess.html">dialogy.postprocess package</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="dialogy.postprocess.text.html">dialogy.postprocess.text package</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="dialogy.postprocess.text.slot_filler.html">dialogy.postprocess.text.slot_filler package</a></li>
<li class="toctree-l5"><a class="reference internal" href="dialogy.postprocess.text.voting.html">dialogy.postprocess.text.voting package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="dialogy.preprocess.html">dialogy.preprocess package</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="dialogy.preprocess.text.html">dialogy.preprocess.text package</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="dialogy.types.html">dialogy.types package</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label for="toctree-checkbox-8"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="dialogy.types.entity.html">dialogy.types.entity package</a></li>
<li class="toctree-l4"><a class="reference internal" href="dialogy.types.intent.html">dialogy.types.intent package</a></li>
<li class="toctree-l4"><a class="reference internal" href="dialogy.types.plugin.html">dialogy.types.plugin package</a></li>
<li class="toctree-l4"><a class="reference internal" href="dialogy.types.signal.html">dialogy.types.signal package</a></li>
<li class="toctree-l4"><a class="reference internal" href="dialogy.types.slots.html">dialogy.types.slots package</a></li>
<li class="toctree-l4"><a class="reference internal" href="dialogy.types.utterances.html">dialogy.types.utterances package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dialogy.utils.html">dialogy.utils package</a></li>
<li class="toctree-l3"><a class="reference internal" href="dialogy.workflow.html">dialogy.workflow package</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <section id="dialogy-plugin-package">
<h1>dialogy.plugin package<a class="headerlink" href="#dialogy-plugin-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-dialogy.plugin.plugin">
<span id="dialogy-plugin-plugin-module"></span><h2>dialogy.plugin.plugin module<a class="headerlink" href="#module-dialogy.plugin.plugin" title="Permalink to this headline">¶</a></h2>
<p id="plugin">Module provides access to an abstract plugin class.</p>
<p>We will summarize a few key points for creating plugins:</p>
<ul class="simple">
<li><p>Don’t interact with the workflow directly, use functions to access and mutate.</p></li>
<li><p>The convention for workflow access is <cite>access(workflow)</cite>.</p></li>
<li><p>The convention for workflow modification is <cite>mutate(workflow, value)</cite>.</p></li>
<li><p>Plugin names must end with Plugin for classes and _plugin for functions.</p></li>
</ul>
<p>examples:
- Sentence2VecPlugin
- words2num_plugin
- RuleSlotFilerPlugin
- VotePlugin</p>
<dl class="py class">
<dt id="dialogy.plugin.plugin.Plugin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">dialogy.plugin.plugin.</span></code><code class="sig-name descname"><span class="pre">Plugin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">access</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">…</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mutate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">…</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dialogy/plugin/plugin.html#Plugin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dialogy.plugin.plugin.Plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A <a class="reference internal" href="../source_bak/dialogy.plugin.html#plugin"><span class="std std-ref">Plugin</span></a> instance interacts with a <a class="reference internal" href="../source_bak/dialogy.workflow.html#workflow"><span class="std std-ref">workflow</span></a>. A <a class="reference internal" href="../source_bak/dialogy.workflow.html#workflow"><span class="std std-ref">workflow</span></a> expects
a set of plugins to be inserted into different stages: pre and post processing.
A plugin can be conveniently written being unaware of the structure of any <a class="reference internal" href="../source_bak/dialogy.workflow.html#workflow"><span class="std std-ref">Workflow</span></a>
by expecting <cite>access</cite> and <cite>mutate</cite> functions.</p>
<p><strong>Dynamic Inputs</strong></p>
<p>An <code class="code docutils literal notranslate"><span class="pre">access</span></code> method helps a <a class="reference internal" href="../source_bak/dialogy.plugin.html#plugin"><span class="std std-ref">Plugin</span></a> to require dynamic inputs from the <a class="reference internal" href="../source_bak/dialogy.workflow.html#workflow"><span class="std std-ref">workflow</span></a>
while a <code class="code docutils literal notranslate"><span class="pre">mutate</span></code> method offers a <a class="reference internal" href="../source_bak/dialogy.plugin.html#plugin"><span class="std std-ref">Plugin</span></a> to update the processed output and place them as per
expectations of the <a class="reference internal" href="../source_bak/dialogy.workflow.html#workflow"><span class="std std-ref">workflow</span></a> implementer’s design.</p>
<p><strong>Static Inputs</strong></p>
<p>In case there are static inputs that won’t change at runtime, these can be pre-loaded into the
<a class="reference internal" href="../source_bak/dialogy.plugin.html#plugin"><span class="std std-ref">Plugin</span></a> by extending it.</p>
<p>An example for this is:</p>
<div class="highlight-python notranslate"><div class="table-wrapper"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CustomPlugin</span><span class="p">(</span><span class="n">Plugin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">access</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PluginFn</span><span class="p">],</span>
        <span class="n">mutate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PluginFn</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""</span>
<span class="sd">        The `.load_corpus()` method reads some corpus.</span>
<span class="sd">        This is useful since we expect to read this</span>
<span class="sd">        just once and use it throughout the runtime.</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">access</span> <span class="o">=</span> <span class="n">access</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mutate</span> <span class="o">=</span> <span class="n">mutate</span>
<span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">corpus</span> <span class="o">=</span> <span class="kc">None</span>
</span>        <span class="bp">self</span><span class="o">.</span><span class="n">load_corpus</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">load_corpus</span><span class="p">(</span><span class="n">corpus_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">corpus_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">corpus</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">corpus_file</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">handle</span><span class="p">:</span>
<span class="hll">            <span class="bp">self</span><span class="o">.</span><span class="n">corpus</span> <span class="o">=</span> <span class="n">handle</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
</span></pre></div>
</td></tr></table></div></div>
<p>We ship a few <a class="reference internal" href="../source_bak/dialogy.plugin.html#plugin"><span class="std std-ref">Plugin</span></a> with Dialogy, namely:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="../source_bak/dialogy.parser.text.entity.html#duckling-parser"><span class="std std-ref">DucklingParser</span></a> (pre-processing)</p></li>
<li><p><a class="reference internal" href="../source_bak/dialogy.preprocess.text.html#merge-asr-output-plugin"><span class="std std-ref">merge_asr_output_plugin</span></a> (pre-processing)</p></li>
<li><p><a class="reference internal" href="../source_bak/dialogy.postprocess.text.slot_filler.html#rule-slot-filler"><span class="std std-ref">RuleBasedSlotFillerPlugin</span></a> (post-processing)</p></li>
<li><p><a class="reference internal" href="../source_bak/dialogy.postprocess.text.voting.html#vote-plugin"><span class="std std-ref">VotePlugin</span></a> (post-processing)</p></li>
</ol>
</dd></dl>
</section>
<section id="module-dialogy.plugin">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-dialogy.plugin" title="Permalink to this headline">¶</a></h2>
<p>A <a class="reference internal" href="../source_bak/dialogy.plugin.html#plugin"><span class="std std-ref">Plugin</span></a> is an abstraction to handle third-party features with custom <a class="reference internal" href="../source_bak/dialogy.workflow.html#workflow"><span class="std std-ref">Workflow</span></a> pipelines.</p>
<p>We offer a <a class="reference internal" href="../source_bak/dialogy.workflow.html#workflow"><span class="std std-ref">Workflow</span></a> that provides a simple API exposed via its <code class="code docutils literal notranslate"><span class="pre">run(input_=X)</span></code> method.
The input has no restrictions, the <a class="reference internal" href="../source_bak/dialogy.workflow.html#workflow"><span class="std std-ref">Workflow</span></a> will apply a set of pre-processing functions and
post-processing functions.</p>
<p>The challenge is <a class="reference internal" href="../source_bak/dialogy.workflow.html#workflow"><span class="std std-ref">Workflow</span></a> and <a class="reference internal" href="../source_bak/dialogy.plugin.html#plugin"><span class="std std-ref">Plugin</span></a> are not built usually by the same people.
A tailor-made solution for a <a class="reference internal" href="../source_bak/dialogy.workflow.html#workflow"><span class="std std-ref">Workflow</span></a> hampers the portability of the solution. These can be inserted
in various ways, like methods, or external functions even. The hope here is to encourage better abstraction while
writing plugins. This will help improvement, addition of existing features by keeping them in their separate, isolated,
context-free boxes.</p>
<p>An ideal <a class="reference internal" href="../source_bak/dialogy.plugin.html#plugin"><span class="std std-ref">Plugin</span></a>  must therefore not assume a <a class="reference internal" href="../source_bak/dialogy.workflow.html#workflow"><span class="std std-ref">Workflow</span></a> structure. It must use
abstractions to specify requirements and expect these to be met for safe usage.</p>
</section>
</section>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="dialogy.postprocess.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">dialogy.postprocess package</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="dialogy.parser.text.entity.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">dialogy.parser.text.entity package</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../_sources/source/dialogy.plugin.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">dialogy.plugin package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-dialogy.plugin.plugin">dialogy.plugin.plugin module</a></li>
<li><a class="reference internal" href="#module-dialogy.plugin">Module contents</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>